{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

<Route
  @name={{routeName}}
as |route|>
{{#let
  route.model.tomography
as |tomography|}}
{{#if (not tomography.distances)}}
  {{did-insert (route-action 'replaceWith' 'dc.nodes.show')}}
{{else}}
  <div class="tab-section">
    <div class="definition-table">
      <dl>
          <dt>
              Minimum
          </dt>
          <dd>
              {{format-number tomography.min maximumFractionDigits=2}}ms
          </dd>
          <dt>
              Median
          </dt>
          <dd>
              {{format-number tomography.median maximumFractionDigits=2}}ms
          </dd>
          <dt>
              Maximum
          </dt>
          <dd>
              {{format-number tomography.max maximumFractionDigits=2}}ms
          </dd>
      </dl>
    </div>
    <Consul::Tomography::Graph @distances={{tomography.distances}} />
  </div>
{{/if}}
{{/let}}
</Route>
