{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

<table
  class="tabular-collection dom-recycling {{if this.hasActions 'has-actions' ''}}"
  id={{this.guid}}
  style={{{concat
    'height:' this.style.height 'px'
  }}}
  ...attributes
>
{{on-window 'resize' (action "resize") }}
{{yield}}
{{#if this.hasCaption}}
  <caption><YieldSlot @name="caption">{{yield}}</YieldSlot></caption>
{{/if}}
  <thead>
    <tr>
      <YieldSlot @name="header">{{yield}}</YieldSlot>
{{#if this.hasActions }}
      <th class="actions">Actions</th>
{{/if}}
    </tr>
  </thead>
  <EmberNativeScrollable @tagName="tbody" @content-size={{this._contentSize}} @scroll-left={{this._scrollLeft}} @scroll-top={{this._scrollTop}} @scrollChange={{action "scrollChange"}} @clientSizeChange={{action "clientSizeChange"}}>
    <tr></tr>
{{~#each this._cells as |cell index|~}}
    <tr data-test-tabular-row style={{{cell.style}}} onclick={{action 'click'}}>
      <YieldSlot @name="row">{{yield cell.item index}}</YieldSlot>
{{#if this.hasActions }}
      <td class="actions">
        <YieldSlot @name="actions" @params={{block-params cell.index (action "change") this.checked}}>
          {{yield cell.item index}}
        </YieldSlot>
      </td>
{{/if}}
    </tr>
{{~/each~}}
  </EmberNativeScrollable>
</table>