{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{#let @list as |SNL|}}
  {{#if (can "use acls")}}
    <SNL.Title>Access Controls</SNL.Title>
    <SNL.Link
      @text="Tokens"
      @route="dc.acls.tokens"
      @models={{array @dc.Name}}
      @isActive={{is-href "dc.acls.tokens" @dc.Name}}
      data-test-main-nav-tokens
    />
    <SNL.Link
      @text="Policies"
      @route="dc.acls.policies"
      @models={{array @dc.Name}}
      @isActive={{is-href "dc.acls.policies" @dc.Name}}
      data-test-main-nav-policies
    />
    <SNL.Link
      @text="Roles"
      @route="dc.acls.roles"
      @models={{array @dc.Name}}
      @isActive={{is-href "dc.acls.roles" @dc.Name}}
      data-test-main-nav-roles
    />
    <SNL.Link
      @text="Auth Methods"
      @route="dc.acls.auth-methods"
      @models={{array @dc.Name}}
      @isActive={{is-href "dc.acls.auth-methods" @dc.Name}}
      data-test-main-nav-auth-methods
    />
  {{else}}
    <SNL.Title {{tooltip "ACLs are not currently enabled in this cluster"}}>
      Access Controls
    </SNL.Title>
    <SNL.Link
      @text="Tokens"
      @route="dc.acls.tokens"
      @models={{array @dc.Name}}
      @query={{hash peer=undefined}}
      @isActive={{is-href "dc.acls.tokens" @dc.Name}}
      data-test-main-nav-tokens
    />
    <SNL.Item
      class="consul-disabled-nav"
      data-test-main-nav-policies
    >Policies</SNL.Item>
    <SNL.Item
      class="consul-disabled-nav"
      data-test-main-nav-roles
    >Roles</SNL.Item>
    <SNL.Item class="consul-disabled-nav" data-test-main-nav-auth-methods>Auth
      Methods</SNL.Item>
  {{/if}}
{{/let}}