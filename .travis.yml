sudo: false

os:
  - linux
  - osx

language: go

go:
  - 1.4
  - tip

branches:
  only:
    - master

install: make deps

script:
  - make integ

branches:
  only:
    - master

notifications:
  irc:
    channels:
      - "irc.freenode.org#consul"
    skip_join: true
    use_notice: true

matrix:
  fast_finish: true
  allow_failures:
    - go: tip
