.\" Generated by Mmark Markdown Processer - mmark.nl
.TH "COREDNS-READY" "7" "April 2019" "CoreDNS" "CoreDNS Plugins"

.SH READY
.SH NAME
.PP
\fIready\fP - enables a readiness check HTTP endpoint.

.SH DESCRIPTION
.PP
By enabling \fIready\fP an HTTP endpoint on port 8181 will return 200 OK, when all plugins that are able
to signal readiness have done so. If some are not ready yet the endpoint will return a 503 with the
body containing the list of plugins that are not ready. Once a plugin has signaled it is ready it
will not be queried again.

.PP
Each Server Block that enables the \fIready\fP plugin will have the plugins \fIin that server block\fP
report readiness into the /ready endpoint that runs on the same port.

.SH SYNTAX
.PP
.RS

.nf
ready [ADDRESS]

.fi
.RE

.PP
\fIready\fP optionally takes an address; the default is \fB\fC:8181\fR. The path is fixed to \fB\fC/ready\fR. The
readiness endpoint returns a 200 response code and the word "OK" when this server is ready. It
returns a 503 otherwise.

.SH PLUGINS
.PP
Any plugin wanting to signal readiness will need to implement the \fB\fCready.Readiness\fR interface by
implementing a method \fB\fCReady() bool\fR that returns true when the plugin is ready and false otherwise.

.SH EXAMPLES
.PP
Let \fIready\fP report readiness for both the \fB\fC.\fR and \fB\fCexample.org\fR servers (assuming the \fIwhois\fP
plugin also exports readiness):

.PP
.RS

.nf
\&. {
    ready
    erratic
}

example.org {
    ready
    whoami
}


.fi
.RE

.PP
Run \fIready\fP on a different port.

.PP
.RS

.nf
\&. {
    ready localhost:8091
}

.fi
.RE

