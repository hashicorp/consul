# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

name: Broken Link Check

on:
  push:
  workflow_dispatch:
    inputs:
      packageName:
        description: 'Name of consul release package (consul vs consul-enterprise)'
        required: true
        default: 'consul'
        type: choice
        options:
        - consul
        - consul-enterprise
      version:
        description: The x.y.z version (also need to specify applicable suffixes like +ent and -dev)'
        required: true
        type: string

env:
  PACKAGE: ${{ inputs.packageName }}
  VERSION: ${{ inputs.version }}
jobs:
  verify-ubuntu:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@8e5e7e5ab8b370d6c329ec480221332ada57f0ab # v3.5.2
      - name: docker build with version
        run: docker build --build-arg PACKAGE=${PACKAGE} --build-arg VERSION=${VERSION} -f ./build-support/docker/Verify-Release-Ubuntu.dockerfile .

