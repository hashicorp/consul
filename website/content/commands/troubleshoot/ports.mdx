---
layout: commands
page_title: 'Commands: Troubleshoot Ports'
description: >-
  The `consul troubleshoot ports` Helps troubleshoot TCP ports by printing if they are open or closed.
---

# Consul Troubleshoot Upstreams

Command: `consul troubleshoot ports`

The `troubleshoot ports` Helps troubleshoot TCP ports by printing if they are open or closed.

## Usage

Usage: `consul troubleshoot ports [options]`

#### Command Options

- `-host=<value>` - Host name to troubleshoot TCP ports for. Host can also be set by environment variable `CONSUL_HTTP_ADDR`
- `-ports=<value>` - Custom ports to troubleshoot (comma-seperated).

## Examples

Checks for TCP connectivity of default ports of consul in case -ports is not passed as arguments.
Refer to [Required Ports](/consul/docs/install/ports) for additional information.

```shell-session
$ export CONSUL_HTTP_ADDR=localhost
$ consul troubleshoot ports
TCP: Port 8501 on localhost is open.
TCP: Port 8502 on localhost is open.
TCP: Port 8503 on localhost is open.
TCP: Port 8302 on localhost is open.
TCP: Port 8300 on localhost is open.
TCP: Port 8600 on localhost is open.
TCP: Port 8301 on localhost is open.
TCP: Port 8500 on localhost is open.
```

The following example checks TCP ports status on the `hashicorp.com` host.

```shell-session
$ consul troubleshoot ports -host hashicorp.com -ports 80,8077
TCP: Port 80 on hashicorp.com is open.
TCP: Port 8077 on hashicorp.com is closed, unreachable, or the connection timed out.
```
