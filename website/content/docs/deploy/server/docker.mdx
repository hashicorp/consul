---
layout: docs
page_title: Deploy Consul server agent on Docker
description: >-
   Learn how to deploy a Consul server agent on a Docker container.
---

# Deploy Consul server agent on Docker

This topic provides an overview for deploying a Consul server when running Consul on Docker containers.

## Deploy and run a Consul server

You deploy a containerized Consul server by running the `consul agent -server` command as a Docker container and instruct it to form a cluster of one member - itself. Do not use detached mode, so you can reference the client logs during later steps.

```shell-session
$ docker run --name=consul-server -d -p 8500:8500 -p 8600:8600/udp hashicorp/consul consul agent -server -ui -node=server-1 -bootstrap-expect=1 -client=0.0.0.0 -data-dir=/consul/data
```

Since you started the container in detached mode, `-d`, the process will run in the background. You also set port mapping to your local machine as well as binding the client interface of our agent to 0.0.0.0. This allows you to work directly with the Consul datacenter from your local machine and to access Consul's UI and DNS over localhost. Finally, you are using Docker's default bridge network.

Note, the Consul Docker image sets up the Consul configuration directory at `/consul/config` by default. The agent will load any configuration files placed in that directory.

~> The configuration directory is **not** exposed as a volume and will not persist data. Consul uses it only during startup and does not store any state there.

To avoid mounting volumes or copying files to the container, you can also submit a Consul configuration in JSON format via the environment variable `CONSUL_LOCAL_CONFIG`. For more information, see the [Consul on Docker documentation](/consul/docs/docker#consul-agent).

### Discover the server IP address

You can find the IP address of the Consul server by executing the `consul members` command inside of the `consul-server` container.

```shell-session
$  docker exec consul-server consul members
Node      Address          Status  Type    Build   Protocol  DC   Partition  Segment
server-1  172.17.0.2:8301  alive   server  1.21.2  2         dc1  default    <all>
```
