---
layout: docs
page_title: Encryption Systems
description: >-
  Consul supports encrypting all of its network traffic. Remote Procedure Calls (RPCs) between client and server agents can be encrypted with TLS and authenticated with certificates. Gossip communication between all agents can also be encrypted.
---

# Encryption

This topic describes the two different encryption systems available in Consul to secure network traffic, Gossip encryption and mTLS.

## Gossip Encryption

Consul uses a [gossip protocol](https://en.wikipedia.org/wiki/Gossip_protocol) to manage membership and broadcast messages to the cluster.

Consul uses the gossip protocol to:
- Identify datacenter members.
- Quickly detect failed members and notify the rest of the cluster.
- Broadcast custom events and queries. These can be used to trigger custom workflows.

The protocol, membership management, and message broadcasting is provided through the [Serf library](https://www.serf.io/). 

Gossip protocol uses, in a default Consul configuration, ports [`8301`](/consul/docs/install/ports#lan-serf) for LAN based communications and [`8302`](/consul/docs/install/ports#lan-serf) for WAN based communications in federated datacenters. Enabling Gossip encryption on a Consul datacenter will secure traffic on these two ports.

Gossip encryption is symmetric and based on a single key that is shared across all members of the datacenter. You can configure gossip encryption in Consul using the following parameters:

- [`encrypt`](/consul/docs/agent/config/config-files#encrypt.)
- [`encrypt_verify_incoming`](/consul/docs/agent/config/config-files#encrypt_verify_incoming). Only used when upshifting from unencrypted to encrypted gossip on a running cluster. 
- [`encrypt_verify_outgoing`](/consul/docs/agent/config/config-files#encrypt_verify_outgoing). Only used when upshifting from unencrypted to encrypted gossip on a running cluster. 

Learn more on how to enable gossip encryption on your Consul datacenter in [Gossip Encryption](/consul/docs/security/encryption/gossip) documentation.

## Mutual TLS (mTLS) Encryption

Consul uses other communication protocols over different ports:

- A [consensus protocol](/consul/docs/architecture/consensus), used to provide consistency over the cluster data stored by Consul servers. It typically uses port [`8300`](/consul/docs/install/ports#server-rpc).
- Remote Procedure Calls (RPC), to forward requests from client agents to server agents. They use the same port used by the consensus protocol.
- An HTTP[S] interface, typically exposed on ports [`8500`](/consul/docs/install/ports#http) and [`8501`](/consul/docs/install/ports#https). This interface is used to permit client communication using Consul API interface, CLI, and UI.
- A gRPC[S] interface, to receive incoming traffic from the gateways and Envoy proxies registered to the agent node. These are typically exposed on ports [`8502`](/consul/docs/install/ports#client-grpc) and [`8503`](/consul/docs/install/ports#client-grpc-tls).
 
All these channels can be secured using mTLS. Consul uses mTLS also to verify the authenticity of servers and clients. 

To enable this, Consul requires that all clients and servers have key pairs that are generated by a single
Certification Authority (CA). This should be a private CA, used only internally.

You can configure mTLS in Consul using the [`tls`](/consul/docs/agent/config/config-files#tls-1) stanza in the configuration files.

Since Consul `1.12` you can have different configuration stanzas for the different protocols:

- [`tls.defaults`](/consul/docs/agent/config/config-files#tls_defaults) provides default settings that will be applied to every interface unless explicitly overridden by protocol specific configurations.
- [`tls.grpc`](/consul/docs/agent/config/config-files#tls_grpc) provides settings for the gRPC/xDS interface.
- [`tls.https`](/consul/docs/agent/config/config-files#tls_https) provides settings for the HTTPS interface.
- [`tls.internal_rpc`](/consul/docs/agent/config/config-files#tls_internal_rpc) provides settings for the internal "server" RPC interface.

Learn more on how to enable mTLS on your Consul datacenter in [mTLS encryption](/consul/docs/security/encryption/mTLS) documentation.

