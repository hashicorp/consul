---
layout: docs
page_title: Cluster Peering Overview
description: >-
  Cluster peering establishes communication between independent clusters in Consul, allowing services to interact across datacenters. Learn about the cluster peering process, differences with WAN federation for multi-datacenter deployments, and technical constraints.  
---

# Cluster Peering Overview

This topic provides an overview of cluster peering, which creates a connection between two or more independent clusters so that services deployed to different partitions or datacenters can communicate.

Cluster peering enables connections between different clouds or runtime environments when general interconnectivity between all services in all clusters is not feasible. The process to establish a cluster peering connection consists of the following steps:

1. Create a peering token in one cluster.
1. Use the peering token to establish peering with a second cluster.
1. Export services between clusters.
1. Create intentions to authorize services for peers.

The `exported-services` configuration entry enables services registered in two different [admin partitions](/docs/enterprise/admin-partitions) running in the same datacenter to communicate. Cluster peering combines an `exported-services` configuration entry with a shared peering token and a mesh gateway, enabling services to communicate securely with upstreams registered in different datacenters. Although deployments require an Enterprise license to use multiple admin partitions in a single datacenter, cluster peering is not restricted to Enterprise users because every datacenter automatically includes a `default` partition.

You can generate peering tokens and initiate connections on any available agent using either the API, CLI, or the Consul UI. The UI does not support exporting services between clusters or authorizing services for peers. If you use the HTTP API, refer to the [`/peering` endpoint reference](/consul/api-docs/peering). If you use the CLI, refer to the [`peering` command reference](/consul/commands/peering).

You can find specific cluster peering configuration and usage information in the following topics:

- To review configuration requirements for gateways, sidecars, exported services, and ACLs, refer to [Cluster peering configuration](/docs/consul/cluster-peering/configuration).
- To create new cluster peering connections, refer to [Establish cluster peering connections](/docs/connect/cluster-peering/create-manage-peering).
- To manage or delete existing cluster peering connections, refer to [Manage cluster peering connections](/consul/docs/cluster-peering/usage/manage-connections).
- To set up service failovers and redirects, refer to [L7 traffic management for cluster peering connections](/consul/docs/cluster-peering/usage/peering-traffic-management).
- To use cluster peering with Kubernetes deployments, refer to [Cluster peering on Kubernetes](/consul/docs/cluster-peering/usage/k8s).
- To use cluster peering with HCP Consul, refer to [Cluster peering in the HCP documentation](/hcp/docs/consul/usage/cluster-peering).

> To learn how to peer clusters and connect services across peers in AWS Elastic Kubernetes Service (EKS) environments, complete the [Consul Cluster Peering on Kubernetes tutorial](/consul/tutorials/developer-mesh/cluster-peering-aws).

## Cluster peering and WAN federation comparison

WAN federation and cluster peering are different ways to connect services through mesh gateways so that they can communicate across datacenters. WAN federation connects multiple datacenters to make them function as if they were a single cluster, while cluster peering treats each datacenter as a separate cluster. As a result, WAN federation requires a primary datacenter to maintain and replicate global states such as ACLs and configuration entries, but cluster peering does not.

WAN federation and cluster peering also treat encrypted traffic differently. While mesh gateways between WAN federated datacenters use mTLS to keep data encrypted, mesh gateways between peers terminate mTLS sessions, decrypt data to HTTP services, and then re-encrypt traffic to send to services. Data must be decrypted in order to evaluate and apply dynamic routing rules at the destination cluster, which reduces coupling between peers.

Regardless of whether you connect your clusters through WAN federation or cluster peering, human and machine users can use either method to discover services in other clusters or dial them through the service mesh.

|                                                    | WAN Federation | Cluster Peering |
| :------------------------------------------------- | :------------: | :-------------: |
| Connects clusters across datacenters               |    &#9989;     |    &#9989;      |
| Shares support queries and service endpoints       |    &#9989;     |    &#9989;      |
| Connects clusters owned by different operators     |    &#10060;    |    &#9989;      |
| Functions without declaring primary datacenter     |    &#10060;    |    &#9989;      |
| Replicates exported services for service discovery |    &#10060;    |    &#9989;      |
| Gossip protocol: Requires LAN gossip only          |    &#10060;    |    &#9989;      |
| Forwards service requests for service discovery    |    &#9989;     |    &#10060;     |
| Shares key/value stores                            |    &#9989;     |    &#10060;     |
| Can replicate ACL tokens, policies, and roles      |    &#9989;     |    &#10060;     |

## Technical Constraints

Consider the following technical constraints:

- Peer names can only contain lowercase characters.
- Services with node, instance, and check definitions totaling more than 8MB cannot be exported to a peer.
- Two admin partitions in the same datacenter cannot be peered. Use [`exported-services`](/consul/docs/connect/config-entries/exported-services#exporting-services-to-peered-clusters) directly.
- The `consul intention` CLI command is not supported. To manage intentions that specify services in peered clusters, use [configuration entries](/consul/docs/connect/config-entries/service-intentions).
- Accessing key/value stores across peers is not supported.
