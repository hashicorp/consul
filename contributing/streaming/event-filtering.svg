<svg id="mermaid-1607381194272" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="773" style="max-width: 226.890625px;" viewBox="0 0 226.890625 773"><style>#mermaid-1607381194272{font-family:"trebuchet ms",verdana,arial;font-size:16px;fill:#333;}#mermaid-1607381194272 .error-icon{fill:#552222;}#mermaid-1607381194272 .error-text{fill:#552222;stroke:#552222;}#mermaid-1607381194272 .edge-thickness-normal{stroke-width:2px;}#mermaid-1607381194272 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1607381194272 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1607381194272 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1607381194272 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1607381194272 .marker{fill:#333333;}#mermaid-1607381194272 .marker.cross{stroke:#333333;}#mermaid-1607381194272 svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;}#mermaid-1607381194272 .label{font-family:"trebuchet ms",verdana,arial;color:#333;}#mermaid-1607381194272 .label text{fill:#333;}#mermaid-1607381194272 .node rect,#mermaid-1607381194272 .node circle,#mermaid-1607381194272 .node ellipse,#mermaid-1607381194272 .node polygon,#mermaid-1607381194272 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1607381194272 .node .label{text-align:center;}#mermaid-1607381194272 .node.clickable{cursor:pointer;}#mermaid-1607381194272 .arrowheadPath{fill:#333333;}#mermaid-1607381194272 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1607381194272 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1607381194272 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1607381194272 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1607381194272 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1607381194272 .cluster text{fill:#333;}#mermaid-1607381194272 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1607381194272:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-1607381194272 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-state.Store LE-EventPublisher.Publish" id="L-state.Store-EventPublisher.Publish" style="opacity: 1;"><path class="path" d="M113.4453125,47L113.4453125,81.5L113.4453125,116" marker-end="url(#arrowhead23849)" style="fill:none"></path><defs><marker id="arrowhead23849" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-EventPublisher.Publish LE-EventPublisher.topicBuffer" id="L-EventPublisher.Publish-EventPublisher.topicBuffer" style="opacity: 1;"><path class="path" d="M113.4453125,155L113.4453125,189.5L113.4453125,224" marker-end="url(#arrowhead23850)" style="fill:none"></path><defs><marker id="arrowhead23850" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-EventPublisher.topicBuffer LE-Subscription" id="L-EventPublisher.topicBuffer-Subscription" style="opacity: 1;"><path class="path" d="M113.4453125,263L113.4453125,288L113.4453125,313" marker-end="url(#arrowhead23851)" style="fill:none"></path><defs><marker id="arrowhead23851" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Subscription LE-SubscribeEndpoint" id="L-Subscription-SubscribeEndpoint" style="opacity: 1;"><path class="path" d="M113.4453125,352L113.4453125,386.5L113.4453125,421" marker-end="url(#arrowhead23852)" style="fill:none"></path><defs><marker id="arrowhead23852" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-SubscribeEndpoint LE-ProtobufEvents" id="L-SubscribeEndpoint-ProtobufEvents" style="opacity: 1;"><path class="path" d="M113.4453125,460L113.4453125,494.5L113.9453125,529.5" marker-end="url(#arrowhead23853)" style="fill:none"></path><defs><marker id="arrowhead23853" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-ProtobufEvents LE-MaterializedView" id="L-ProtobufEvents-MaterializedView" style="opacity: 1;"><path class="path" d="M113.9453125,568.5L113.4453125,602.5L113.4453125,637" marker-end="url(#arrowhead23854)" style="fill:none"></path><defs><marker id="arrowhead23854" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-MaterializedView LE-HTTPEndpoint" id="L-MaterializedView-HTTPEndpoint" style="opacity: 1;"><path class="path" d="M113.4453125,676L113.4453125,701L113.4453125,726" marker-end="url(#arrowhead23855)" style="fill:none"></path><defs><marker id="arrowhead23855" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(113.4453125,81.5)" style="opacity: 1;"><g transform="translate(-90.7421875,-9.5)" class="label"><rect rx="0" ry="0" width="181.484375" height="19"></rect><foreignObject width="181.484375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-state.Store-EventPublisher.Publish" class="edgeLabel L-LS-state.Store' L-LE-EventPublisher.Publish">events in different topics</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(113.4453125,189.5)" style="opacity: 1;"><g transform="translate(-51.6328125,-9.5)" class="label"><rect rx="0" ry="0" width="103.265625" height="19"></rect><foreignObject width="103.265625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-EventPublisher.Publish-EventPublisher.topicBuffer" class="edgeLabel L-LS-EventPublisher.Publish' L-LE-EventPublisher.topicBuffer">group by topic</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-EventPublisher.topicBuffer-Subscription" class="edgeLabel L-LS-EventPublisher.topicBuffer' L-LE-Subscription"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(113.4453125,386.5)" style="opacity: 1;"><g transform="translate(-101.4609375,-9.5)" class="label"><rect rx="0" ry="0" width="202.921875" height="19"></rect><foreignObject width="202.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Subscription-SubscribeEndpoint" class="edgeLabel L-LS-Subscription' L-LE-SubscribeEndpoint">filter by key and namespace</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(113.4453125,494.5)" style="opacity: 1;"><g transform="translate(-89.0390625,-9.5)" class="label"><rect rx="0" ry="0" width="178.078125" height="19"></rect><foreignObject width="178.078125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-SubscribeEndpoint-ProtobufEvents" class="edgeLabel L-LS-SubscribeEndpoint' L-LE-ProtobufEvents">filter by auth (acl token)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(113.4453125,602.5)" style="opacity: 1;"><g transform="translate(-59.234375,-9.5)" class="label"><rect rx="0" ry="0" width="118.46875" height="19"></rect><foreignObject width="118.46875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-ProtobufEvents-MaterializedView" class="edgeLabel L-LS-ProtobufEvents' L-LE-MaterializedView">filter with bexpr</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-MaterializedView-HTTPEndpoint" class="edgeLabel L-LS-MaterializedView' L-LE-HTTPEndpoint"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-state.Store-20321" transform="translate(113.4453125,27.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-49.875" y="-19.5" width="99.75" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-39.875,-9.5)"><foreignObject width="79.75" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">state.Store</div></foreignObject></g></g></g><g class="node default" id="flowchart-EventPublisher.Publish-20322" transform="translate(113.4453125,135.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-90.53125" y="-19.5" width="181.0625" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-80.53125,-9.5)"><foreignObject width="161.0625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">EventPublisher.Publish</div></foreignObject></g></g></g><g class="node default" id="flowchart-EventPublisher.topicBuffer-20324" transform="translate(113.4453125,243.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-105.4453125" y="-19.5" width="210.890625" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-95.4453125,-9.5)"><foreignObject width="190.890625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">EventPublisher.topicBuffer</div></foreignObject></g></g></g><g class="node default" id="flowchart-Subscription-20326" transform="translate(113.4453125,332.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-53.84375" y="-19.5" width="107.6875" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-43.84375,-9.5)"><foreignObject width="87.6875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Subscription</div></foreignObject></g></g></g><g class="node default" id="flowchart-SubscribeEndpoint-20328" transform="translate(113.4453125,440.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-75.7734375" y="-19.5" width="151.546875" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-65.7734375,-9.5)"><foreignObject width="131.546875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SubscribeEndpoint</div></foreignObject></g></g></g><g class="node default" id="flowchart-ProtobufEvents-20330" transform="translate(113.4453125,548.5)" style="opacity: 1;"><polygon points="-13,0 44.59375,0 64.09375,-39 6.5,-39" transform="translate(-25.546875,19.5)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-15.546875,-9.5)"><foreignObject width="31.09375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">grpc</div></foreignObject></g></g></g><g class="node default" id="flowchart-MaterializedView-20332" transform="translate(113.4453125,656.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-71.421875" y="-19.5" width="142.84375" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-61.421875,-9.5)"><foreignObject width="122.84375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">MaterializedView</div></foreignObject></g></g></g><g class="node default" id="flowchart-HTTPEndpoint-20334" transform="translate(113.4453125,745.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-60.671875" y="-19.5" width="121.34375" height="39" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.671875,-9.5)"><foreignObject width="101.34375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">HTTPEndpoint</div></foreignObject></g></g></g></g></g></g></svg>